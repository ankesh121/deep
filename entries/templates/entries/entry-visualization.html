
<div class="row">
    <div class="col-md-9">
        <div id="entry-timeline-wrapper" class="visualization-block">
            <h3>Entries by date</h3>
            <label id="entry-count"></label>
            <div id="entry-timeline-container">
                <canvas id="entry-timeline"></canvas>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div id="severity-legend" class="visualization-block">
            <h3>Legend</h3>
            <p><span class="severity severity-1"></span><label>No Problem</label></p>
            <p><span class="severity severity-2"></span><label>Situation of Concern</label></p>
            <p><span class="severity severity-3"></span><label>Situation of Major Concern</label></p>
            <p><span class="severity severity-4"></span><label>Severe conditions</label></p>
            <p><span class="severity severity-5"></span><label>Critical Situation</label></p>
        </div>
    </div>
</div>

<div class="row" >
    <div class="col-md-4">
        <div id="sectors-visualization" class="attr-visualization visualization-block">
            <h3>Entries by sectors</h3>
            <div class="sort-buttons">
                <button class="sort-alpha" data-toggle="tooltip" title="Sort alphabetically" onclick="sortAlpha(sectors, 'sectors-visualization');"><i class="fa-sort-alpha-asc"></i></button>
                <button class="sort-ascending" data-toggle="tooltip" title="Sort by entries in ascending" onclick="sortAsc(sectors, 'sectors-visualization');"><i class="fa fa-sort-numeric-asc"></i></button>
                <button class="sort-descending" data-toggle="tooltip" title="Sort by entries in descending" onclick="sortDesc(sectors, 'sectors-visualization');"><i class="fa fa-sort-numeric-desc"></i></button>
            </div>
            <div class="attr-container">
            {% for sector in sectors %}
                <div class="attr" data-id="{{sector.pk}}">
                    <label class="name">{{sector}}</label>
                    {% if sector.icon %}
                    <img src="{{sector.icon.url}}" >
                    {% endif %}
                    <span class="severities"></span>
                </div>
            {% endfor %}
            </div>
        </div>
    </div>
    <div class="col-md-8">
        <div id="map-wrapper" class="visualization-block">
            <div id="the-map">
            </div>
            <div id="pie-wrapper">
                <h3>% of entries per severity</h3>
                <svg id="pies-container">
                </svg>
            </div>
            <div id="country-select-wrapper">
                <select name="country" id="country" placeholder="Select a country">
                    {% for country in event.countries.all %}
                    <option value="{{country.pk}}">{{country.name}}</option>
                    {% endfor %}
                </select>
            </div>
            <div id="map-controls">
                <div id="admin-level-buttons"></div>
            </div>
        </div>
    </div>
</div>
<div id="attr-visualizations-container">
    <div class="row">
        <div class="col-md-3">
            <div id="affected-groups-visualization"  class="visualization-block attr-visualization">
                <h3>Entries by affected groups</h3>
                <div class="sort-buttons">
                    <button class="sort-alpha" data-toggle="tooltip" title="Sort alphabetically" onclick="sortAlpha(affected_groups, 'affected-groups-visualization');"><i class="fa-sort-alpha-asc"></i></button>
                    <button class="sort-ascending" data-toggle="tooltip" title="Sort by entries in ascending" onclick="sortAsc(affected_groups, 'affected-groups-visualization');"><i class="fa fa-sort-numeric-asc"></i></button>
                    <button class="sort-descending" data-toggle="tooltip" title="Sort by entries in descending" onclick="sortDesc(affected_groups, 'affected-groups-visualization');"><i class="fa fa-sort-numeric-desc"></i></button>
                </div>
                <div class="attr-container">
                    {% for ag in affected_groups %}
                    <div class="attr" data-id="{{ag.pk}}">
                        <label class="name">{{ag}}</label>
                        <span class="severities"></span>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div id="vulnerable-groups-visualization" class="visualization-block attr-visualization">
                <h3>Entries by demographic groups</h3>
                <div class="sort-buttons">
                    <button class="sort-alpha" data-toggle="tooltip" title="Sort alphabetically" onclick="sortAlpha(vulnerable_groups, 'vulnerable-groups-visualization');"><i class="fa-sort-alpha-asc"></i></button>
                    <button class="sort-ascending" data-toggle="tooltip" title="Sort by entries in ascending" onclick="sortAsc(vulnerable_groups, 'vulnerable-groups-visualization');"><i class="fa fa-sort-numeric-asc"></i></button>
                    <button class="sort-descending" data-toggle="tooltip" title="Sort by entries in descending" onclick="sortDesc(vulnerable_groups, 'vulnerable-groups-visualization');"><i class="fa fa-sort-numeric-desc"></i></button>
                </div>
                <div class="attr-container">
                    {% for vg in vulnerable_groups %}
                    <div class="attr" data-id="{{vg.pk}}">
                        <label class="name">{{vg}}</label>
                        <span class="severities"></span>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div id="specific-needs-groups-visualization"  class="visualization-block attr-visualization">
                <h3>Entries by specific needs groups</h3>
                <div class="sort-buttons">
                    <button class="sort-alpha" data-toggle="tooltip" title="Sort alphabetically" onclick="sortAlpha(specific_needs_groups, 'specific-needs-groups-visualization');"><i class="fa-sort-alpha-asc"></i></button>
                    <button class="sort-ascending" data-toggle="tooltip" title="Sort by entries in ascending" onclick="sortAsc(specific_needs_groups, 'specific-needs-groups-visualization');"><i class="fa fa-sort-numeric-asc"></i></button>
                    <button class="sort-descending" data-toggle="tooltip" title="Sort by entries in descending" onclick="sortDesc(specific_needs_groups, 'specific-needs-groups-visualization');"><i class="fa fa-sort-numeric-desc"></i></button>
                </div>
                <div class="attr-container">
                    {% for sg in specific_needs_groups %}
                    <div class="attr" data-id="{{sg.pk}}">
                        <label class="name">{{sg}}</label>
                        <span class="severities"></span>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div id="sources-visualization"  class="visualization-block attr-visualization">
                <h3>Entries by sources</h3>
                <div class="sort-buttons">
                    <button class="sort-alpha" data-toggle="tooltip" title="Sort alphabetically" onclick="sortAlpha(sources, 'sources-visualization');"><i class="fa-sort-alpha-asc"></i></button>
                    <button class="sort-ascending" data-toggle="tooltip" title="Sort by entries in ascending" onclick="sortAsc(sources, 'sources-visualization');"><i class="fa fa-sort-numeric-asc"></i></button>
                    <button class="sort-descending" data-toggle="tooltip" title="Sort by entries in descending" onclick="sortDesc(sources, 'sources-visualization');"><i class="fa fa-sort-numeric-desc"></i></button>
                </div>
                <div class="attr-container">
                    {% for source in sources %}
                    <div class="attr" data-id="{{source}}">
                        <label class="name">{{source}}</label>
                        <span class="severities"></span>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
