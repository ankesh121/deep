{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}
DEEP | Leads
{% endblock %}

{% block head %}
<script>
    var currentEvent = {{event.pk}};
</script>
<link href="{% static 'css/leads.css' %}" type="text/css" rel="stylesheet">
<link href="{% static 'css/navigation-bar.css' %}" type="text/css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{% static 'css/datatables.min.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/dataTables.bootstrap.min.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/selectize.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/selectize.bootstrap3.css' %}"/>
<script type="text/javascript" src="{% static 'js/datatables.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/selectize.js' %}"></script>
<script type="text/javascript" src="{% static 'js/leads.js' %}"></script>
{% endblock %}

{% block body %}

{% include 'navigation-bar.html' %}

<div class="section" id="body-section">
    <div class="container">
        <div class="block" id="action-block">
            <a class="btn btn-default" href="{% url 'leads:add' event=event.pk %}"><i class="fa fa-plus"></i>Add Lead</a>
        </div>

        <div class="block" id="leads-block">
            <div class="title">Current Leads</div>
            <div class="row" id="filters">
                <div class="col-sm-12">
                    <label>Apply filter:</label>
                </div>
                <div class="col-sm-3 col-md-2 col-xs-6">
                    <select id="assigned-to-filter" placeholder="Assigned to">
                        <option value="">Assigned to</option>
                    </select>
                </div>
                <div class="col-sm-3 col-md-2 col-xs-6">
                    <select id="date-created-filter" placeholder="Date Created">
                        <option value="">Date Created</option>
                        <option value="today">Today</option>
                        <option value="yesterday">Yesterday</option>
                        <option value="last-seven-days">Last 7 days</option>
                        <option value="this-week">This week</option>
                        <option value="last-thirty-days">Last 30 days</option>
                        <option value="this-month">This month</option>
                    </select>
                </div>
                <div class="col-sm-3 col-md-2 col-xs-6">
                    <select id="date-published-filter" placeholder="Date Published">
                        <option value="">Date Published</option>
                        <option value="today">Today</option>
                        <option value="yesterday">Yesterday</option>
                        <option value="last-seven-days">Last 7 days</option>
                        <option value="this-week">This week</option>
                        <option value="last-thirty-days">Last 30 days</option>
                        <option value="this-month">This month</option>
                    </select>
                </div>
                <div class="col-sm-3 col-md-2 col-xs-6">
                    <select id="confidentiality-filter" placeholder="Confidentiality">
                        <option value="">Confidentiality</option>
                        <option value="Unprotected">Unprotected</option>
                        <option value="Protected">Protected</option>
                        <option value="Restricted">Restricted</option>
                        <option value="Confidential">Confidential</option>
                    </select>
                </div>
                <div class="col-sm-3 col-md-2 col-xs-6">
                    <select id="status-filter" placeholder="Status">
                        <option value="">Status</option>
                        <option value="Pending">Pending</option>
                        <option value="Processed">Processed</option>
                    </select>
                </div>
            </div>
            <table id="leads-table" class="table table-striped table-bordered" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>Created</th>
                        <th>Assigned</th>
                        <th>Name</th>
                        <th>Published</th>
                        <th>Confidentiality</th>
                        <!-- <th>Type</th> -->
                        <th>Source</th>
                        <!-- <th>Content Format</th> -->
                        <!-- <th>Website</th> -->
                        <!-- <th>Documents</th> -->
                        <th>Status</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
</div>

<form id="process-form" style="visibility:collapse;" method="post" action="{% url 'leads:mark_processed' event=event.pk %}">
    {% csrf_token %}
    <input id="process-id" name="id" type="text">
</form>
<form id="delete-form" style="visibility:collapse;" method="post" action="{% url 'leads:delete' event=event.pk %}">
    {% csrf_token %}
    <input id="delete-id" name="id" type="text">
</form>

{% endblock %}
